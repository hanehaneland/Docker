# Dockerfileの基本構文

Dockerfileの命令
|命令|説明|
|---|---|
|FROM|ベースイメージの指定|
|RUN|コマンド実行|
|CMD|コンテナの実行コマンド(複数記述した場合、最後のコマンドのみ有効)|
|LABEL|ラベルを指定|
|EXPOSE|ポートのエクスポート|
|ENV|環境変数|
|ADD|ファイル/ディレクトリの追加|
|COPY|ファイルのコピー|
|ENTRYPOINT|コンテナの実行コマンド|
|VOLUME|ボリュームのマウント|
|USER|ユーザの指定|
|WORKDIR|作業ディレクトリ|
|ARG|Dockerfile内のディレクトリ|
|ONBUILD|ビルド完了後に実行される命令|
|STOPSIGNAL|システムコールシグナルの設定|
|HEALTHCHECK|コンテナのヘルスチェック|
|SHELL|デフォルトシェルの設定|

# 環境/ネットワークの設定
Dockerfile内で利用できる環境変数やコンテナ内での作業ディレクトリを指定できる。

## ENV [key] [value]
単一の環境変数に1つの値をセットする。key以降を全て文字列として扱う。

## ENV [key]=[value]
一度に複数の値をセットするときは、環境変数をkey=valueで指定する。

## WORKDIR [作業ディレクトリのパス]
Dockerfileに書かれた次の命令を実行するために作業用ディレクトリを指定する。

## USER [ユーザ名/UID]
イメージ実行やDockerfileの次の命令を実行するためのユーザを指定する。

## LABEL [キー名]=[値]
イメージに情報や作成者情報、コメントなどの情報を持たせる。

## EXPOSE [ポート番号]
コンテナの公開するポート番号を指定する。

## ARG [名前][=デフォルト値]
Dockerfile内で使用する変数を定義する。変数の値によって生成するイメージの中身を変えることができる。環境変数であるENVとは異なり、Dockerfile内でのみこの変数を使用することができる。

## SHELL ["シェルのパス", "パラメータ"]
シェル形式でコマンド実行するときに、デフォルトのシェル設定を行う。SHELL命令を指定しないときのLinux上でのデフォルトのシェルは["/bin/sh", "-c"]、Windowsは["cmd", "/S", "/C"]。

# ファイルの設定
イメージにホスト上のファイルやディレクトリを追加するときは、ADD命令を使う。

イメージにホスト上のファイルやディレクトリをコピーするときは、COPY命令を使う。

イメージにボリュームを割り当てるときは、VOLUME命令を使う。